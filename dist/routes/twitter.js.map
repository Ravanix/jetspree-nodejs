{"version":3,"sources":["../../src/routes/twitter.js"],"names":["router","Router","CONSUMER_KEY","CONSUMER_SECRET","get","req","res","oauth","consumer_key","consumer_secret","access_token","access_token_secret","url","params","user","e","r","body","tidyUp","JSON","parse","statuses","map","obj","i","created_at","text","urls","entities","screen_name","send","module","exports"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,SAAS,kBAAQC,MAAR,EAAf;AACA,IAAMC,eAAe,2BAArB;AACA,IAAMC,kBAAkB,oDAAxB;;AAEAH,OAEEI,GAFF,CAEM,aAFN,EAEqB,UAAUC,GAAV,EAAeC,GAAf,EAAoB;AACvC,KAAIC,QAAQ;AACXC,gBAAcN,YADH;AAEXO,mBAAiBN,eAFN;AAGXO,gBAAc,oDAHH;AAIXC,uBAAqB;AAJV,EAAZ;AAMA,mBAAQP,GAAR,CAAY,EAAEQ,KAAK,6DAA6DP,IAAIQ,MAAJ,CAAWC,IAA/E,EAAqFP,OAAOA,KAA5F,EAAZ,EAAiH,UAAUQ,CAAV,EAAaC,CAAb,EAAgBC,IAAhB,EAAsB;;AAEtI,MAAIC,SAASC,KAAKC,KAAL,CAAWH,IAAX,EAAiBI,QAAjB,CAA0BC,GAA1B,CAA8B,UAACC,GAAD,EAAMC,CAAN,EAAY;AACtD,UAAO;AACNC,gBAAYF,IAAIE,UADV;AAENC,UAAMH,IAAIG,IAFJ;AAGNC,UAAMJ,IAAIK,QAAJ,CAAaD,IAAb,CAAkBL,GAAlB,CAAsB,UAACC,GAAD,EAAMC,CAAN,EAAY;AAAE,YAAOD,IAAIX,GAAX;AAAgB,KAApD,CAHA;AAINE,UAAMS,IAAIT,IAAJ,CAASe;AAJT,IAAP;AAMA,GAPY,CAAb;AAQAvB,MAAIwB,IAAJ,CAASZ,MAAT;AACA,EAXD;AAYA,CArBF;;AAyBAa,OAAOC,OAAP,GAAiBhC,MAAjB","file":"twitter.js","sourcesContent":["import express from 'express';\r\nimport request from 'request';\r\nimport qs from 'querystring';\r\n\r\nconst router = express.Router();\r\nconst CONSUMER_KEY = 'C26AzqB4KX27vptotRfsl2mci';\r\nconst CONSUMER_SECRET = 'WLn5P77bBreEU4Lx6ia75ESQFtos1hR2EhYl8HW7xoCPoWpUw8';\r\n\r\nrouter\r\n\r\n\t.get('/user/:user', function (req, res) {\r\n\t\tlet oauth = {\r\n\t\t\tconsumer_key: CONSUMER_KEY,\r\n\t\t\tconsumer_secret: CONSUMER_SECRET,\r\n\t\t\taccess_token: '558478141-vP6gWUhaySNB0Lrkf2Rf2mOg8hemsHjSLyxi5GBv',\r\n\t\t\taccess_token_secret: 'AVUtd9EdLpkeyt2pPerwbnna2WB1YJQnDpd7SMyITAX3Z'\r\n\t\t};\r\n\t\trequest.get({ url: 'https://api.twitter.com/1.1/search/tweets.json?q=from%3A' + req.params.user, oauth: oauth }, function (e, r, body) {\r\n\r\n\t\t\tlet tidyUp = JSON.parse(body).statuses.map((obj, i) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tcreated_at: obj.created_at,\r\n\t\t\t\t\ttext: obj.text,\r\n\t\t\t\t\turls: obj.entities.urls.map((obj, i) => { return obj.url }),\r\n\t\t\t\t\tuser: obj.user.screen_name\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t\tres.send(tidyUp);\r\n\t\t});\r\n\t})\r\n\r\n\t;\r\n\r\nmodule.exports = router;"]}